extends layout


block content
 
  .container-fluid
    .row
      .col-sm-3.col-md-2.sidebar
    
      .col-sm-9.col-sm-offset-3.col-md-10.col-md-offset-2
       h2.title= title
       div  
        a.btn.btn-primary(href='/tasks/create') Add New   
        .row.placeholders
          .col-xs-6.col-sm-3.placeholder
            canvas(id="taskChart" width="250" height="250")
             h4 Label
            span Tasks
          .col-xs-6.col-sm-3.placeholder
            canvas(id="todoChart" width="250" height="250")
             h4 Label
            span To Do's
          .col-xs-6.col-sm-3.placeholder
            canvas(id="habitChart" width="250" height="250")
             h4 Label
            span Habits

        form.form-inline.mt-2.mt-md-0
          input.form-control.mr-sm-2(type='text', placeholder='Search', aria-label='Search')
          button.btn.btn-outline-success.my-2.my-sm-0(type='submit') Search
        h2.sub-header Tasks
        .table-responsive
          table.table.table-striped
            thead
              tr
                th Category
                th Name
                th Due Date
                th Description
                th Repeating
                th Delete
            tbody
            each task in tasks
              tr
                td=task.category
                td=task.name
                if task.due_date !== undefined
                  td=task.due_date.toDateString()
                td=task.description
                td=task.repeating
                td
                  form.btn.btn-primary(action='/tasks/' + task._id, method='DELETE')
                    input.form-control.mr-sm-2(type="hidden", name="_method", value="delete")
                    button.btn.btn-primary(type='submit') Delete

      
  footer
    script(src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js")
    script(src='../public/script.js')
    script(src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js")
    script. 
        var ctx = document.getElementById("taskChart").getContext('2d');
        var chart = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: ["Completed", "Total"],
                datasets: [{
                    label: 'Number of votes',
                    data: [34, 14],
                    backgroundColor: ['green', 'blue'],
                    borderColor: ['green', 'blue'],
                    borderWidth: 1
                }]
            },
            options: {
                title: {
                    display: true,
                    text: "Tasks"
                },
                legend: {
                    position: 'bottom'
                },
                responsive: false,
            }
        });

        var ctx = document.getElementById("todoChart").getContext('2d');
        var chart = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: ["Completed", "Total"],
                datasets: [{
                    label: 'Number of votes',
                    data: [56, 17],
                    backgroundColor: ['green', 'blue'],
                    borderColor: ['green', 'blue'],
                    borderWidth: 1
                }]
            },
            options: {
                title: {
                    display: true,
                    text: "To Do's"
                },
                legend: {
                    position: 'bottom'
                },
                responsive: false,
            }
        });

        var ctx = document.getElementById("habitChart").getContext('2d');
        var chart = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: ["Completed", "Total"],
                datasets: [{
                    label: 'Number of votes',
                    data: [15, 13],
                    backgroundColor: ['green', 'blue'],
                    borderColor: ['green', 'blue'],
                    borderWidth: 1
                }]
            },
            options: {
                title: {
                    display: true,
                    text: "Habits"
                },
                legend: {
                    position: 'bottom'
                },
                responsive: false,
            }
        });