extends layout


block content
 
  .container-fluid
    .row
      .col-sm-3.col-md-2.sidebar
        h3 Rewards
    
      .col-sm-9.col-sm-offset-3.col-md-10.col-md-offset-2
       h2.title= title
       div
        a.btn.btn-primary(href='/tasks/create') Add New  
        .row.placeholders
          .col-xs-6.col-sm-3.placeholder
            
            canvas(id="taskChart" width="200" height="200")
            p This is not fully configured just in place
          
           
          .col-xs-6.col-sm-3.placeholder
            canvas(id="habitChart" width="200" height="200")
            p This is not fully configured just in place
      
        form.form-inline.mt-2.mt-md-0
          input.form-control.mr-sm-2(type='text', placeholder='Search', aria-label='Search')
          button.btn.btn-outline-success.my-2.my-sm-0(type='submit') Search
        
           
        h2.sub-header Tasks
        .table-responsive
          table.table.table-striped
            thead
              tr
                th Category
                th Name
                th Due Date
                th Description
                th Repeating
                th 
                th
                th
            tbody
            each task in tasks
              tr
                td=task.category
                td
                  a.btn.btn-primary(href='/tasks/'+task._id)=task.name
                if task.due_date !== undefined
                  td=task.due_date.toDateString()
                td=task.description
                td=task.repeating
                td
                 form
                    button.btn.btn-primary Mark Complete
                 td
                    a.btn.btn-primary(href='/tasks/edit') Edit  
                td
                  form(action='/tasks/' + task._id, method='DELETE')
                    input.form-control.mr-sm-2(type="hidden", name="_method", value="delete")
                    button.btn.btn-primary(type='submit') Delete
                  
                

      
  footer
    script(src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js")
    script(src='../public/script.js')
    script(src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js")
    script. 
        var ctx = document.getElementById("taskChart").getContext('2d');
        var chart = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: ["Current", "Completed"],
                datasets: [{
                    label: 'Number of votes',
                    data: [34, 14],
                    backgroundColor: ['green', 'blue'],
                    borderColor: ['green', 'blue'],
                    borderWidth: 1
                }]
            },
            options: {
                title: {
                    display: true,
                    text: "Tasks"
                },
                legend: {
                    position: 'bottom'
                },
                responsive: false,
            }
        });

        new Chart(document.getElementById("habitChart"), {
          type: 'horizontalBar',
          data: {
            labels: ["Africa", "Asia", "Europe", "Latin America", "North America"],
            datasets: [
              {
                label: "Population (millions)",
                backgroundColor: ["#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#c45850"],
                data: [2478,5267,734,784,433]
              }
            ]
          },
          options: {
            legend: { display: false },
            title: {
              display: true,
              text: 'Predicted world population (millions) in 2050'
            }
          }
      });